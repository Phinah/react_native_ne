{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { useEffect, useState } from \"react\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport { renderArticle } from \"../components/atoms/article\";\nimport Text from \"../components/theme/text\";\nimport { Screen } from \"../layouts/screen\";\nimport { get } from \"../utils/http\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\nimport { Colors } from \"../utils/constants\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport function Articles(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      articles = _useState2[0],\n      setArticles = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isFetching = _useState4[0],\n      setIsFetching = _useState4[1];\n\n  function getArticles() {\n    var data;\n    return _regeneratorRuntime.async(function getArticles$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            setIsFetching(true);\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(get(\"api/articles\"));\n\n          case 3:\n            data = _context.sent;\n            setArticles(data.data.reverse(0));\n            setIsFetching(false);\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  useEffect(function () {\n    getArticles();\n  }, []);\n  return _jsxs(Screen, {\n    children: [_jsx(View, {\n      style: {\n        flex: 1,\n        flexGrow: 1\n      },\n      children: _jsx(View, {\n        style: {\n          flex: 1\n        },\n        children: _jsx(FlatList, {\n          refreshing: isFetching,\n          style: {\n            height: 40\n          },\n          showsVerticalScrollIndicator: false,\n          data: articles,\n          renderItem: renderArticle(navigation),\n          onRefresh: getArticles,\n          ListFooterComponent: function ListFooterComponent() {\n            return _jsx(View, {\n              style: {\n                height: 70,\n                justifyContent: \"center\"\n              },\n              children: _jsx(Text, {\n                align: \"center\",\n                children: \"No more articles\"\n              })\n            });\n          }\n        })\n      })\n    }), _jsx(View, {\n      style: {\n        backgroundColor: Colors.primary,\n        width: 50,\n        height: 50,\n        borderRadius: 25,\n        position: \"absolute\",\n        bottom: 20,\n        right: 0,\n        zIndex: 1\n      },\n      children: _jsx(TouchableOpacity, {\n        onPress: function onPress() {\n          navigation.navigate(\"NewArticle\");\n        },\n        style: {\n          flex: 1,\n          justifyContent: \"center\",\n          alignItems: \"center\",\n          elevation: 10\n        },\n        children: _jsx(MaterialIcons, {\n          name: \"add\",\n          size: 30,\n          color: \"white\"\n        })\n      })\n    })]\n  });\n}","map":{"version":3,"names":["useEffect","useState","renderArticle","Text","Screen","get","MaterialIcons","Colors","Articles","navigation","articles","setArticles","isFetching","setIsFetching","getArticles","data","reverse","flex","flexGrow","height","justifyContent","backgroundColor","primary","width","borderRadius","position","bottom","right","zIndex","navigate","alignItems","elevation"],"sources":["C:/Users/USER/Documents/mobile dev/nat-mobile-starter/client/screens/articles.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport {\r\n\tFlatList,\r\n\tSafeAreaView,\r\n\tScrollView,\r\n\tTouchableOpacity,\r\n\tView,\r\n} from \"react-native\";\r\nimport { renderArticle } from \"../components/atoms/article\";\r\nimport Text from \"../components/theme/text\";\r\nimport { Screen } from \"../layouts/screen\";\r\nimport { get } from \"../utils/http\";\r\n\r\nimport { MaterialIcons } from \"@expo/vector-icons\";\r\nimport { Colors } from \"../utils/constants\";\r\n\r\nexport function Articles({ navigation }) {\r\n\tconst [articles, setArticles] = useState([]);\r\n\tconst [isFetching, setIsFetching] = useState(false);\r\n\r\n\tasync function getArticles() {\r\n\t\tsetIsFetching(true);\r\n\t\tlet data = await get(\"api/articles\");\r\n\r\n\t\tsetArticles(data.data.reverse(0));\r\n\t\tsetIsFetching(false);\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tgetArticles();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<Screen>\r\n\t\t\t<View\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tflex: 1,\r\n\t\t\t\t\tflexGrow: 1,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<View\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FlatList\r\n\t\t\t\t\t\trefreshing={isFetching}\r\n\t\t\t\t\t\tstyle={{ height: 40 }}\r\n\t\t\t\t\t\tshowsVerticalScrollIndicator={false}\r\n\t\t\t\t\t\tdata={articles}\r\n\t\t\t\t\t\trenderItem={renderArticle(navigation)}\r\n\t\t\t\t\t\tonRefresh={getArticles}\r\n\t\t\t\t\t\tListFooterComponent={() => (\r\n\t\t\t\t\t\t\t<View\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\theight: 70,\r\n\t\t\t\t\t\t\t\t\tjustifyContent: \"center\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Text align=\"center\">No more articles</Text>\r\n\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</View>\r\n\t\t\t</View>\r\n\t\t\t<View\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\tbackgroundColor: Colors.primary,\r\n\t\t\t\t\twidth: 50,\r\n\t\t\t\t\theight: 50,\r\n\t\t\t\t\tborderRadius: 25,\r\n\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\tbottom: 20,\r\n\t\t\t\t\tright: 0,\r\n\t\t\t\t\tzIndex: 1,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<TouchableOpacity\r\n\t\t\t\t\tonPress={() => {\r\n\t\t\t\t\t\tnavigation.navigate(\"NewArticle\");\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\tjustifyContent: \"center\",\r\n\t\t\t\t\t\talignItems: \"center\",\r\n\t\t\t\t\t\televation: 10,\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<MaterialIcons name=\"add\" size={30} color=\"white\" />\r\n\t\t\t\t</TouchableOpacity>\r\n\t\t\t</View>\r\n\t\t</Screen>\r\n\t);\r\n}\r\n"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;;;;;AAQA,SAASC,aAAT;AACA,OAAOC,IAAP;AACA,SAASC,MAAT;AACA,SAASC,GAAT;AAEA,SAASC,aAAT,QAA8B,oBAA9B;AACA,SAASC,MAAT;;;AAEA,OAAO,SAASC,QAAT,OAAkC;EAAA,IAAdC,UAAc,QAAdA,UAAc;;EACxC,gBAAgCR,QAAQ,CAAC,EAAD,CAAxC;EAAA;EAAA,IAAOS,QAAP;EAAA,IAAiBC,WAAjB;;EACA,iBAAoCV,QAAQ,CAAC,KAAD,CAA5C;EAAA;EAAA,IAAOW,UAAP;EAAA,IAAmBC,aAAnB;;EAEA,SAAeC,WAAf;IAAA;IAAA;MAAA;QAAA;UAAA;YACCD,aAAa,CAAC,IAAD,CAAb;YADD;YAAA,iCAEkBR,GAAG,CAAC,cAAD,CAFrB;;UAAA;YAEKU,IAFL;YAICJ,WAAW,CAACI,IAAI,CAACA,IAAL,CAAUC,OAAV,CAAkB,CAAlB,CAAD,CAAX;YACAH,aAAa,CAAC,KAAD,CAAb;;UALD;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA;;EAQAb,SAAS,CAAC,YAAM;IACfc,WAAW;EACX,CAFQ,EAEN,EAFM,CAAT;EAIA,OACC,MAAC,MAAD;IAAA,WACC,KAAC,IAAD;MACC,KAAK,EAAE;QACNG,IAAI,EAAE,CADA;QAENC,QAAQ,EAAE;MAFJ,CADR;MAAA,UAMC,KAAC,IAAD;QACC,KAAK,EAAE;UACND,IAAI,EAAE;QADA,CADR;QAAA,UAKC,KAAC,QAAD;UACC,UAAU,EAAEL,UADb;UAEC,KAAK,EAAE;YAAEO,MAAM,EAAE;UAAV,CAFR;UAGC,4BAA4B,EAAE,KAH/B;UAIC,IAAI,EAAET,QAJP;UAKC,UAAU,EAAER,aAAa,CAACO,UAAD,CAL1B;UAMC,SAAS,EAAEK,WANZ;UAOC,mBAAmB,EAAE;YAAA,OACpB,KAAC,IAAD;cACC,KAAK,EAAE;gBACNK,MAAM,EAAE,EADF;gBAENC,cAAc,EAAE;cAFV,CADR;cAAA,UAMC,KAAC,IAAD;gBAAM,KAAK,EAAC,QAAZ;gBAAA;cAAA;YAND,EADoB;UAAA;QAPtB;MALD;IAND,EADD,EAgCC,KAAC,IAAD;MACC,KAAK,EAAE;QACNC,eAAe,EAAEd,MAAM,CAACe,OADlB;QAENC,KAAK,EAAE,EAFD;QAGNJ,MAAM,EAAE,EAHF;QAINK,YAAY,EAAE,EAJR;QAKNC,QAAQ,EAAE,UALJ;QAMNC,MAAM,EAAE,EANF;QAONC,KAAK,EAAE,CAPD;QAQNC,MAAM,EAAE;MARF,CADR;MAAA,UAYC,KAAC,gBAAD;QACC,OAAO,EAAE,mBAAM;UACdnB,UAAU,CAACoB,QAAX,CAAoB,YAApB;QACA,CAHF;QAIC,KAAK,EAAE;UACNZ,IAAI,EAAE,CADA;UAENG,cAAc,EAAE,QAFV;UAGNU,UAAU,EAAE,QAHN;UAINC,SAAS,EAAE;QAJL,CAJR;QAAA,UAWC,KAAC,aAAD;UAAe,IAAI,EAAC,KAApB;UAA0B,IAAI,EAAE,EAAhC;UAAoC,KAAK,EAAC;QAA1C;MAXD;IAZD,EAhCD;EAAA,EADD;AA6DA"},"metadata":{},"sourceType":"module"}